{"ast":null,"code":"var _jsxFileName = \"/Users/johyeonmin/Documents/winterProject/web/src/pages/upload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Form, Container, Row, Col, Card, Button, Alert } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Upload({\n  socket\n}) {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploadStatus, setUploadStatus] = useState(\"\");\n  useEffect(() => {\n    // 업로드 성공 이벤트 리스너\n    const onUploadSuccess = message => {\n      setUploadStatus(message);\n    };\n\n    // 업로드 실패 이벤트 리스너\n    const onUploadFailure = message => {\n      setUploadStatus(message);\n    };\n    if (socket) {\n      socket.on(\"upload_success\", onUploadSuccess);\n      socket.on(\"upload_failure\", onUploadFailure);\n    }\n\n    // 컴포넌트 언마운트 시 리스너 제거\n    return () => {\n      if (socket) {\n        socket.off(\"upload_success\", onUploadSuccess);\n        socket.off(\"upload_failure\", onUploadFailure);\n      }\n    };\n  }, [socket]);\n  const handleFileSelect = event => {\n    setSelectedFile(event.target.files[0]);\n  };\n  const handleUpload = () => {\n    if (selectedFile && socket) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        const fileData = e.target.result;\n        socket.emit(\"upload_file\", {\n          data: fileData,\n          name: selectedFile.name\n        });\n      };\n      reader.readAsDataURL(selectedFile);\n    } else {\n      setUploadStatus(\"No file selected or socket not connected.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-md-center\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: true,\n        lg: \"6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: true,\n        lg: \"4\",\n        children: [uploadStatus && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: uploadStatus.startsWith(\"Success\") ? \"success\" : \"danger\",\n          children: uploadStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.File, {\n            id: \"file-upload\",\n            label: \"Choose a file...\",\n            custom: true,\n            accept: \".pdf,.ppt,.hwp\",\n            onChange: handleFileSelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            className: \"mt-2\",\n            onClick: handleUpload,\n            disabled: !selectedFile || !socket,\n            children: \"Upload File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(Upload, \"R32w6ceHHA74ShDAuuibg9ZVG7E=\");\n_c = Upload;\nexport default Upload;\nvar _c;\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["React","useState","useEffect","Form","Container","Row","Col","Card","Button","Alert","jsxDEV","_jsxDEV","Upload","socket","_s","selectedFile","setSelectedFile","uploadStatus","setUploadStatus","onUploadSuccess","message","onUploadFailure","on","off","handleFileSelect","event","target","files","handleUpload","reader","FileReader","onload","e","fileData","result","emit","data","name","readAsDataURL","children","className","xs","lg","fileName","_jsxFileName","lineNumber","columnNumber","variant","startsWith","File","id","label","custom","accept","onChange","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/johyeonmin/Documents/winterProject/web/src/pages/upload.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Form,\n  Container,\n  Row,\n  Col,\n  Card,\n  Button,\n  Alert,\n} from \"react-bootstrap\";\n\nfunction Upload({ socket }) {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploadStatus, setUploadStatus] = useState(\"\");\n\n  useEffect(() => {\n    // 업로드 성공 이벤트 리스너\n    const onUploadSuccess = (message) => {\n      setUploadStatus(message);\n    };\n\n    // 업로드 실패 이벤트 리스너\n    const onUploadFailure = (message) => {\n      setUploadStatus(message);\n    };\n\n    if (socket) {\n      socket.on(\"upload_success\", onUploadSuccess);\n      socket.on(\"upload_failure\", onUploadFailure);\n    }\n\n    // 컴포넌트 언마운트 시 리스너 제거\n    return () => {\n      if (socket) {\n        socket.off(\"upload_success\", onUploadSuccess);\n        socket.off(\"upload_failure\", onUploadFailure);\n      }\n    };\n  }, [socket]);\n\n  const handleFileSelect = (event) => {\n    setSelectedFile(event.target.files[0]);\n  };\n\n  const handleUpload = () => {\n    if (selectedFile && socket) {\n      const reader = new FileReader();\n\n      reader.onload = (e) => {\n        const fileData = e.target.result;\n        socket.emit(\"upload_file\", { data: fileData, name: selectedFile.name });\n      };\n\n      reader.readAsDataURL(selectedFile);\n    } else {\n      setUploadStatus(\"No file selected or socket not connected.\");\n    }\n  };\n\n  return (\n    <Container>\n      <Row className=\"justify-content-md-center\">\n        <Col xs lg=\"6\">\n          {/* ... 기존 Card UI 코드 ... */}\n        </Col>\n        <Col xs lg=\"4\">\n          {uploadStatus && (\n            <Alert\n              variant={\n                uploadStatus.startsWith(\"Success\") ? \"success\" : \"danger\"\n              }\n            >\n              {uploadStatus}\n            </Alert>\n          )}\n          <Form>\n            <Form.File\n              id=\"file-upload\"\n              label=\"Choose a file...\"\n              custom\n              accept=\".pdf,.ppt,.hwp\"\n              onChange={handleFileSelect}\n            />\n            <Button\n              variant=\"primary\"\n              className=\"mt-2\"\n              onClick={handleUpload}\n              disabled={!selectedFile || !socket}\n            >\n              Upload File\n            </Button>\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default Upload;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}