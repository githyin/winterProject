{"{\"assumptions\":{},\"sourceRoot\":\"/Users/johyeonmin/Documents/winterProject/app/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/johyeonmin/Documents/winterProject/app\",\"filename\":\"/Users/johyeonmin/Documents/winterProject/app/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/johyeonmin/Documents/winterProject/app\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.7:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _http = _interopRequireDefault(require(\"http\"));\nvar _socket = _interopRequireDefault(require(\"socket.io\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// multer 라이브러리 임포트\n// 파일 시스템 모듈 임포트\n// 경로 모듈 임포트\n\nvar app = (0, _express[\"default\"])();\nvar port = process.env.PORT || 8000; // 포트 설정\n\n// 파일을 저장할 디렉토리 설정\nvar uploadDirectory = _path[\"default\"].join(__dirname, \"uploads\"); // 파일 위치를 현재 디렉토리의 uploads로 설정\n// multer 설정 (파일 저장 위치 설정)\nvar storage = _multer[\"default\"].diskStorage({\n  destination: function destination(req, file, cb) {\n    if (!_fs[\"default\"].existsSync(uploadDirectory)) {\n      _fs[\"default\"].mkdirSync(uploadDirectory, {\n        recursive: true\n      });\n    }\n    cb(null, uploadDirectory);\n  },\n  filename: function filename(req, file, cb) {\n    cb(null, Date.now() + \"-\" + file.originalname);\n  }\n});\nvar upload = (0, _multer[\"default\"])({\n  storage: storage\n});\napp.use((0, _cors[\"default\"])({\n  origin: \"http://172.20.10.2:3000\"\n}));\napp.use(_express[\"default\"][\"static\"](uploadDirectory)); // 업로드된 파일을 제공하는 정적 경로 설정\napp.get(\"/\", function (req, res) {\n  return res.send(\"Hello World!\");\n});\n\n// 여러 파일 업로드를 위한 라우트 수정\napp.post(\"/upload\", upload.array(\"files\"), function (req, res) {\n  if (req.files) {\n    console.log(\"Files received:\", req.files);\n    return res.json({\n      message: \"Files uploaded successfully.\"\n    });\n  }\n  return res.status(400).send(\"No files uploaded.\");\n});\nvar server = _http[\"default\"].createServer(app);\nvar io = (0, _socket[\"default\"])(server, {\n  cors: {\n    origin: \"http://172.20.10.2:3000\",\n    methods: [\"GET\", \"POST\"]\n  }\n});\nio.on(\"connection\", function (socket) {\n  var roomName = socket.id;\n  console.log(\"New client connected\");\n  socket.on(\"create_ai_chat_room\", function () {\n    socket.join(roomName);\n    console.log(\"Room created with name: \".concat(roomName));\n  });\n  socket.on(\"ai_chat_message\", function (msg) {\n    console.log(\"message: \" + msg);\n    io.to(roomName).emit(\"ai_chat_message\", msg); //해당 유저의 private room에만 메시지 전달\n  });\n  socket.on(\"disconnect\", function () {\n    socket.leave(roomName); //해당 private room 떠나기\n    console.log(\"Client disconnected\");\n  });\n});\nvar handleListen = function handleListen() {\n  return console.log(\"Listening on http://172.20.10.2:\".concat(port));\n};\nserver.listen(port, handleListen);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfaHR0cCIsIl9zb2NrZXQiLCJfbXVsdGVyIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiYXBwIiwiZXhwcmVzcyIsInBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsInVwbG9hZERpcmVjdG9yeSIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmcyIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJmaWxlbmFtZSIsIkRhdGUiLCJub3ciLCJvcmlnaW5hbG5hbWUiLCJ1cGxvYWQiLCJ1c2UiLCJjb3JzIiwib3JpZ2luIiwiZ2V0IiwicmVzIiwic2VuZCIsInBvc3QiLCJhcnJheSIsImZpbGVzIiwiY29uc29sZSIsImxvZyIsImpzb24iLCJtZXNzYWdlIiwic3RhdHVzIiwic2VydmVyIiwiaHR0cCIsImNyZWF0ZVNlcnZlciIsImlvIiwic29ja2V0SW8iLCJtZXRob2RzIiwib24iLCJzb2NrZXQiLCJyb29tTmFtZSIsImlkIiwiY29uY2F0IiwibXNnIiwidG8iLCJlbWl0IiwibGVhdmUiLCJoYW5kbGVMaXN0ZW4iLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qb2h5ZW9ubWluL0RvY3VtZW50cy93aW50ZXJQcm9qZWN0L2FwcC9zcmMvIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCI7XG5pbXBvcnQgaHR0cCBmcm9tIFwiaHR0cFwiO1xuaW1wb3J0IHNvY2tldElvIGZyb20gXCJzb2NrZXQuaW9cIjtcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiOyAvLyBtdWx0ZXIg65287J2067iM65+s66asIOyehO2PrO2KuFxuaW1wb3J0IGZzIGZyb20gXCJmc1wiOyAvLyDtjIzsnbwg7Iuc7Iqk7YWcIOuqqOuTiCDsnoTtj6ztirhcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7IC8vIOqyveuhnCDrqqjrk4gg7J6E7Y+s7Yq4XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDgwMDA7IC8vIO2PrO2KuCDshKTsoJVcblxuLy8g7YyM7J287J2EIOyggOyepe2VoCDrlJTroInthqDrpqwg7ISk7KCVXG5jb25zdCB1cGxvYWREaXJlY3RvcnkgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCBcInVwbG9hZHNcIik7IC8vIO2MjOydvCDsnITsuZjrpbwg7ZiE7J6sIOuUlOugie2GoOumrOydmCB1cGxvYWRz66GcIOyEpOyglVxuLy8gbXVsdGVyIOyEpOyglSAo7YyM7J28IOyggOyepSDsnITsuZgg7ISk7KCVKVxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4gIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xuICAgIGlmICghZnMuZXhpc3RzU3luYyh1cGxvYWREaXJlY3RvcnkpKSB7XG4gICAgICBmcy5ta2RpclN5bmModXBsb2FkRGlyZWN0b3J5LCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICB9XG4gICAgY2IobnVsbCwgdXBsb2FkRGlyZWN0b3J5KTtcbiAgfSxcbiAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XG4gICAgY2IobnVsbCwgRGF0ZS5ub3coKSArIFwiLVwiICsgZmlsZS5vcmlnaW5hbG5hbWUpO1xuICB9LFxufSk7XG5cbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2UgfSk7XG5cbmFwcC51c2UoY29ycyh7IG9yaWdpbjogXCJodHRwOi8vMTcyLjIwLjEwLjI6MzAwMFwiIH0pKTtcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWModXBsb2FkRGlyZWN0b3J5KSk7IC8vIOyXheuhnOuTnOuQnCDtjIzsnbzsnYQg7KCc6rO17ZWY64qUIOygleyggSDqsr3roZwg7ISk7KCVXG5hcHAuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHJlcy5zZW5kKFwiSGVsbG8gV29ybGQhXCIpKTtcblxuLy8g7Jes65+sIO2MjOydvCDsl4XroZzrk5zrpbwg7JyE7ZWcIOudvOyasO2KuCDsiJjsoJVcbmFwcC5wb3N0KFwiL3VwbG9hZFwiLCB1cGxvYWQuYXJyYXkoXCJmaWxlc1wiKSwgKHJlcSwgcmVzKSA9PiB7XG4gIGlmIChyZXEuZmlsZXMpIHtcbiAgICBjb25zb2xlLmxvZyhcIkZpbGVzIHJlY2VpdmVkOlwiLCByZXEuZmlsZXMpO1xuICAgIHJldHVybiByZXMuanNvbih7IG1lc3NhZ2U6IFwiRmlsZXMgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5LlwiIH0pO1xuICB9XG4gIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChcIk5vIGZpbGVzIHVwbG9hZGVkLlwiKTtcbn0pO1xuXG5jb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xuY29uc3QgaW8gPSBzb2NrZXRJbyhzZXJ2ZXIsIHtcbiAgY29yczoge1xuICAgIG9yaWdpbjogXCJodHRwOi8vMTcyLjIwLjEwLjI6MzAwMFwiLFxuICAgIG1ldGhvZHM6IFtcIkdFVFwiLCBcIlBPU1RcIl0sXG4gIH0sXG59KTtcblxuaW8ub24oXCJjb25uZWN0aW9uXCIsIChzb2NrZXQpID0+IHtcbiAgY29uc3Qgcm9vbU5hbWUgPSBzb2NrZXQuaWQ7XG4gIGNvbnNvbGUubG9nKFwiTmV3IGNsaWVudCBjb25uZWN0ZWRcIik7XG5cbiAgc29ja2V0Lm9uKFwiY3JlYXRlX2FpX2NoYXRfcm9vbVwiLCAoKSA9PiB7XG4gICAgc29ja2V0LmpvaW4ocm9vbU5hbWUpO1xuICAgIGNvbnNvbGUubG9nKGBSb29tIGNyZWF0ZWQgd2l0aCBuYW1lOiAke3Jvb21OYW1lfWApO1xuICB9KTtcblxuICBzb2NrZXQub24oXCJhaV9jaGF0X21lc3NhZ2VcIiwgKG1zZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwibWVzc2FnZTogXCIgKyBtc2cpO1xuICAgIGlvLnRvKHJvb21OYW1lKS5lbWl0KFwiYWlfY2hhdF9tZXNzYWdlXCIsIG1zZyk7IC8v7ZW064u5IOycoOyggOydmCBwcml2YXRlIHJvb23sl5Drp4wg66mU7Iuc7KeAIOyghOuLrFxuICB9KTtcblxuICBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsICgpID0+IHtcbiAgICBzb2NrZXQubGVhdmUocm9vbU5hbWUpOyAvL+2VtOuLuSBwcml2YXRlIHJvb20g65ag64KY6riwXG4gICAgY29uc29sZS5sb2coXCJDbGllbnQgZGlzY29ubmVjdGVkXCIpO1xuICB9KTtcbn0pO1xuXG5jb25zdCBoYW5kbGVMaXN0ZW4gPSAoKSA9PlxuICBjb25zb2xlLmxvZyhgTGlzdGVuaW5nIG9uIGh0dHA6Ly8xNzIuMjAuMTAuMjoke3BvcnR9YCk7XG5zZXJ2ZXIubGlzdGVuKHBvcnQsIGhhbmRsZUxpc3Rlbik7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssR0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sS0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQXdCLFNBQUFELHVCQUFBUSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsZ0JBQUFBLEdBQUE7QUFGSztBQUNSO0FBQ0k7O0FBRXpCLElBQU1FLEdBQUcsR0FBRyxJQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_http","_socket","_multer","_fs","_path","obj","__esModule","app","express","port","process","env","PORT","uploadDirectory","path","join","__dirname","storage","multer","diskStorage","destination","req","file","cb","fs","existsSync","mkdirSync","recursive","filename","Date","now","originalname","upload","use","cors","origin","get","res","send","post","array","files","console","log","json","message","status","server","http","createServer","io","socketIo","methods","on","socket","roomName","id","concat","msg","to","emit","leave","handleListen","listen"],"sourceRoot":"/Users/johyeonmin/Documents/winterProject/app/src/","sources":["server.js"],"sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport http from \"http\";\nimport socketIo from \"socket.io\";\nimport multer from \"multer\"; // multer 라이브러리 임포트\nimport fs from \"fs\"; // 파일 시스템 모듈 임포트\nimport path from \"path\"; // 경로 모듈 임포트\n\nconst app = express();\nconst port = process.env.PORT || 8000; // 포트 설정\n\n// 파일을 저장할 디렉토리 설정\nconst uploadDirectory = path.join(__dirname, \"uploads\"); // 파일 위치를 현재 디렉토리의 uploads로 설정\n// multer 설정 (파일 저장 위치 설정)\nconst storage = multer.diskStorage({\n  destination: function (req, file, cb) {\n    if (!fs.existsSync(uploadDirectory)) {\n      fs.mkdirSync(uploadDirectory, { recursive: true });\n    }\n    cb(null, uploadDirectory);\n  },\n  filename: function (req, file, cb) {\n    cb(null, Date.now() + \"-\" + file.originalname);\n  },\n});\n\nconst upload = multer({ storage: storage });\n\napp.use(cors({ origin: \"http://172.20.10.2:3000\" }));\napp.use(express.static(uploadDirectory)); // 업로드된 파일을 제공하는 정적 경로 설정\napp.get(\"/\", (req, res) => res.send(\"Hello World!\"));\n\n// 여러 파일 업로드를 위한 라우트 수정\napp.post(\"/upload\", upload.array(\"files\"), (req, res) => {\n  if (req.files) {\n    console.log(\"Files received:\", req.files);\n    return res.json({ message: \"Files uploaded successfully.\" });\n  }\n  return res.status(400).send(\"No files uploaded.\");\n});\n\nconst server = http.createServer(app);\nconst io = socketIo(server, {\n  cors: {\n    origin: \"http://172.20.10.2:3000\",\n    methods: [\"GET\", \"POST\"],\n  },\n});\n\nio.on(\"connection\", (socket) => {\n  const roomName = socket.id;\n  console.log(\"New client connected\");\n\n  socket.on(\"create_ai_chat_room\", () => {\n    socket.join(roomName);\n    console.log(`Room created with name: ${roomName}`);\n  });\n\n  socket.on(\"ai_chat_message\", (msg) => {\n    console.log(\"message: \" + msg);\n    io.to(roomName).emit(\"ai_chat_message\", msg); //해당 유저의 private room에만 메시지 전달\n  });\n\n  socket.on(\"disconnect\", () => {\n    socket.leave(roomName); //해당 private room 떠나기\n    console.log(\"Client disconnected\");\n  });\n});\n\nconst handleListen = () =>\n  console.log(`Listening on http://172.20.10.2:${port}`);\nserver.listen(port, handleListen);\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,GAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,KAAA,GAAAP,sBAAA,CAAAC,OAAA;AAAwB,SAAAD,uBAAAQ,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAFK;AACR;AACI;;AAEzB,IAAME,GAAG,GAAG,IAAAC,mBAAO,EAAC,CAAC;AACrB,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC,CAAC;;AAEvC;AACA,IAAMC,eAAe,GAAGC,gBAAI,CAACC,IAAI,CAACC,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;AACzD;AACA,IAAMC,OAAO,GAAGC,kBAAM,CAACC,WAAW,CAAC;EACjCC,WAAW,EAAE,SAAAA,YAAUC,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACpC,IAAI,CAACC,cAAE,CAACC,UAAU,CAACZ,eAAe,CAAC,EAAE;MACnCW,cAAE,CAACE,SAAS,CAACb,eAAe,EAAE;QAAEc,SAAS,EAAE;MAAK,CAAC,CAAC;IACpD;IACAJ,EAAE,CAAC,IAAI,EAAEV,eAAe,CAAC;EAC3B,CAAC;EACDe,QAAQ,EAAE,SAAAA,SAAUP,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACjCA,EAAE,CAAC,IAAI,EAAEM,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAGR,IAAI,CAACS,YAAY,CAAC;EAChD;AACF,CAAC,CAAC;AAEF,IAAMC,MAAM,GAAG,IAAAd,kBAAM,EAAC;EAAED,OAAO,EAAEA;AAAQ,CAAC,CAAC;AAE3CV,GAAG,CAAC0B,GAAG,CAAC,IAAAC,gBAAI,EAAC;EAAEC,MAAM,EAAE;AAA0B,CAAC,CAAC,CAAC;AACpD5B,GAAG,CAAC0B,GAAG,CAACzB,mBAAO,UAAO,CAACK,eAAe,CAAC,CAAC,CAAC,CAAC;AAC1CN,GAAG,CAAC6B,GAAG,CAAC,GAAG,EAAE,UAACf,GAAG,EAAEgB,GAAG;EAAA,OAAKA,GAAG,CAACC,IAAI,CAAC,cAAc,CAAC;AAAA,EAAC;;AAEpD;AACA/B,GAAG,CAACgC,IAAI,CAAC,SAAS,EAAEP,MAAM,CAACQ,KAAK,CAAC,OAAO,CAAC,EAAE,UAACnB,GAAG,EAAEgB,GAAG,EAAK;EACvD,IAAIhB,GAAG,CAACoB,KAAK,EAAE;IACbC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEtB,GAAG,CAACoB,KAAK,CAAC;IACzC,OAAOJ,GAAG,CAACO,IAAI,CAAC;MAAEC,OAAO,EAAE;IAA+B,CAAC,CAAC;EAC9D;EACA,OAAOR,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACR,IAAI,CAAC,oBAAoB,CAAC;AACnD,CAAC,CAAC;AAEF,IAAMS,MAAM,GAAGC,gBAAI,CAACC,YAAY,CAAC1C,GAAG,CAAC;AACrC,IAAM2C,EAAE,GAAG,IAAAC,kBAAQ,EAACJ,MAAM,EAAE;EAC1Bb,IAAI,EAAE;IACJC,MAAM,EAAE,yBAAyB;IACjCiB,OAAO,EAAE,CAAC,KAAK,EAAE,MAAM;EACzB;AACF,CAAC,CAAC;AAEFF,EAAE,CAACG,EAAE,CAAC,YAAY,EAAE,UAACC,MAAM,EAAK;EAC9B,IAAMC,QAAQ,GAAGD,MAAM,CAACE,EAAE;EAC1Bd,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;EAEnCW,MAAM,CAACD,EAAE,CAAC,qBAAqB,EAAE,YAAM;IACrCC,MAAM,CAACvC,IAAI,CAACwC,QAAQ,CAAC;IACrBb,OAAO,CAACC,GAAG,4BAAAc,MAAA,CAA4BF,QAAQ,CAAE,CAAC;EACpD,CAAC,CAAC;EAEFD,MAAM,CAACD,EAAE,CAAC,iBAAiB,EAAE,UAACK,GAAG,EAAK;IACpChB,OAAO,CAACC,GAAG,CAAC,WAAW,GAAGe,GAAG,CAAC;IAC9BR,EAAE,CAACS,EAAE,CAACJ,QAAQ,CAAC,CAACK,IAAI,CAAC,iBAAiB,EAAEF,GAAG,CAAC,CAAC,CAAC;EAChD,CAAC,CAAC;EAEFJ,MAAM,CAACD,EAAE,CAAC,YAAY,EAAE,YAAM;IAC5BC,MAAM,CAACO,KAAK,CAACN,QAAQ,CAAC,CAAC,CAAC;IACxBb,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;EACpC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAMmB,YAAY,GAAG,SAAfA,YAAYA,CAAA;EAAA,OAChBpB,OAAO,CAACC,GAAG,oCAAAc,MAAA,CAAoChD,IAAI,CAAE,CAAC;AAAA;AACxDsC,MAAM,CAACgB,MAAM,CAACtD,IAAI,EAAEqD,YAAY,CAAC"}},"mtime":1704266419346}}